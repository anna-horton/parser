<template>
  <div id="app">
    <div class="layout">
      <Layout>
        <Sider v-show="isLogin" class='sidebar' breakpoint="md" collapsible :collapsed-width="78">
          <div class="logo">
            <svg width="154" height="94" viewBox="0 0 154 94" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M42.4506 54.36C40.9106 54.36 39.5606 54.09 38.4006 53.55C37.2406 53.01 36.3306 52.24 35.6706 51.24C35.0306 50.24 34.7006 49.05 34.6806 47.67H38.0406C38.0606 48.79 38.4506 49.74 39.2106 50.52C39.9706 51.3 41.0406 51.69 42.4206 51.69C43.6406 51.69 44.5906 51.4 45.2706 50.82C45.9706 50.22 46.3206 49.46 46.3206 48.54C46.3206 47.8 46.1506 47.2 45.8106 46.74C45.4906 46.28 45.0406 45.9 44.4606 45.6C43.9006 45.3 43.2506 45.03 42.5106 44.79C41.7706 44.55 40.9906 44.29 40.1706 44.01C38.5506 43.47 37.3306 42.77 36.5106 41.91C35.7106 41.05 35.3106 39.92 35.3106 38.52C35.2906 37.34 35.5606 36.31 36.1206 35.43C36.7006 34.55 37.5006 33.87 38.5206 33.39C39.5606 32.89 40.7706 32.64 42.1506 32.64C43.5106 32.64 44.7006 32.89 45.7206 33.39C46.7606 33.89 47.5706 34.59 48.1506 35.49C48.7306 36.37 49.0306 37.4 49.0506 38.58H45.6906C45.6906 38.04 45.5506 37.53 45.2706 37.05C44.9906 36.55 44.5806 36.14 44.0406 35.82C43.5006 35.5 42.8406 35.34 42.0606 35.34C41.0606 35.32 40.2306 35.57 39.5706 36.09C38.9306 36.61 38.6106 37.33 38.6106 38.25C38.6106 39.07 38.8506 39.7 39.3306 40.14C39.8106 40.58 40.4706 40.95 41.3106 41.25C42.1506 41.53 43.1106 41.86 44.1906 42.24C45.2306 42.58 46.1606 42.99 46.9806 43.47C47.8006 43.95 48.4506 44.58 48.9306 45.36C49.4306 46.14 49.6806 47.13 49.6806 48.33C49.6806 49.39 49.4106 50.38 48.8706 51.3C48.3306 52.2 47.5206 52.94 46.4406 53.52C45.3606 54.08 44.0306 54.36 42.4506 54.36ZM59.9973 54.36C58.5373 54.36 57.2373 54.04 56.0973 53.4C54.9773 52.74 54.0973 51.83 53.4573 50.67C52.8173 49.51 52.4973 48.16 52.4973 46.62C52.4973 45.06 52.8073 43.69 53.4273 42.51C54.0673 41.33 54.9473 40.41 56.0673 39.75C57.2073 39.09 58.5273 38.76 60.0273 38.76C61.4873 38.76 62.7573 39.09 63.8373 39.75C64.9173 40.39 65.7573 41.25 66.3573 42.33C66.9573 43.41 67.2573 44.6 67.2573 45.9C67.2573 46.1 67.2473 46.32 67.2273 46.56C67.2273 46.78 67.2173 47.03 67.1973 47.31H55.6173C55.7173 48.75 56.1873 49.85 57.0273 50.61C57.8873 51.35 58.8773 51.72 59.9973 51.72C60.8973 51.72 61.6473 51.52 62.2473 51.12C62.8673 50.7 63.3273 50.14 63.6273 49.44H66.8073C66.4073 50.84 65.6073 52.01 64.4073 52.95C63.2273 53.89 61.7573 54.36 59.9973 54.36ZM59.9973 41.37C58.9373 41.37 57.9973 41.69 57.1773 42.33C56.3573 42.95 55.8573 43.89 55.6773 45.15H64.0773C64.0173 43.99 63.6073 43.07 62.8473 42.39C62.0873 41.71 61.1373 41.37 59.9973 41.37ZM70.5569 54V39.12H73.3769L73.6169 41.73C74.0769 40.81 74.7469 40.09 75.6269 39.57C76.5269 39.03 77.5569 38.76 78.7169 38.76C80.5169 38.76 81.9269 39.32 82.9469 40.44C83.9869 41.56 84.5069 43.23 84.5069 45.45V54H81.3569V45.78C81.3569 42.9 80.1769 41.46 77.8169 41.46C76.6369 41.46 75.6569 41.88 74.8769 42.72C74.1169 43.56 73.7369 44.76 73.7369 46.32V54H70.5569ZM94.4922 54C93.0322 54 91.8722 53.65 91.0122 52.95C90.1522 52.23 89.7222 50.96 89.7222 49.14V41.79H87.1722V39.12H89.7222L90.1122 35.34H92.9022V39.12H97.1022V41.79H92.9022V49.14C92.9022 49.96 93.0722 50.53 93.4122 50.85C93.7722 51.15 94.3822 51.3 95.2422 51.3H96.9522V54H94.4922ZM102.181 36.3C101.581 36.3 101.081 36.12 100.681 35.76C100.301 35.38 100.111 34.91 100.111 34.35C100.111 33.79 100.301 33.33 100.681 32.97C101.081 32.59 101.581 32.4 102.181 32.4C102.781 32.4 103.271 32.59 103.651 32.97C104.051 33.33 104.251 33.79 104.251 34.35C104.251 34.91 104.051 35.38 103.651 35.76C103.271 36.12 102.781 36.3 102.181 36.3ZM100.591 54V39.12H103.771V54H100.591ZM114.929 54.36C113.469 54.36 112.169 54.04 111.029 53.4C109.909 52.74 109.029 51.83 108.389 50.67C107.749 49.51 107.429 48.16 107.429 46.62C107.429 45.06 107.739 43.69 108.359 42.51C108.999 41.33 109.879 40.41 110.999 39.75C112.139 39.09 113.459 38.76 114.959 38.76C116.419 38.76 117.689 39.09 118.769 39.75C119.849 40.39 120.689 41.25 121.289 42.33C121.889 43.41 122.189 44.6 122.189 45.9C122.189 46.1 122.179 46.32 122.159 46.56C122.159 46.78 122.149 47.03 122.129 47.31H110.549C110.649 48.75 111.119 49.85 111.959 50.61C112.819 51.35 113.809 51.72 114.929 51.72C115.829 51.72 116.579 51.52 117.179 51.12C117.799 50.7 118.259 50.14 118.559 49.44H121.739C121.339 50.84 120.539 52.01 119.339 52.95C118.159 53.89 116.689 54.36 114.929 54.36ZM114.929 41.37C113.869 41.37 112.929 41.69 112.109 42.33C111.289 42.95 110.789 43.89 110.609 45.15H119.009C118.949 43.99 118.539 43.07 117.779 42.39C117.019 41.71 116.069 41.37 114.929 41.37ZM125.489 54V39.12H128.309L128.549 41.73C129.009 40.81 129.679 40.09 130.559 39.57C131.459 39.03 132.489 38.76 133.649 38.76C135.449 38.76 136.859 39.32 137.879 40.44C138.919 41.56 139.439 43.23 139.439 45.45V54H136.289V45.78C136.289 42.9 135.109 41.46 132.749 41.46C131.569 41.46 130.589 41.88 129.809 42.72C129.049 43.56 128.669 44.76 128.669 46.32V54H125.489ZM149.424 54C147.964 54 146.804 53.65 145.944 52.95C145.084 52.23 144.654 50.96 144.654 49.14V41.79H142.104V39.12H144.654L145.044 35.34H147.834V39.12H152.034V41.79H147.834V49.14C147.834 49.96 148.004 50.53 148.344 50.85C148.704 51.15 149.314 51.3 150.174 51.3H151.884V54H149.424Z" fill="black"/>
              <path d="M9.03063 72L28.5426 28.152H2.33463V21.6H36.3906V27.144L17.0226 72H9.03063Z" fill="black"/>
            </svg>
          </div>
          <Menu v-if="user && !user.isAdmin" active-name="1-2"  width="auto">
            <MenuItem name="dashboard" to='/admin'>
              <Icon type="ios-home"></Icon>
              <span>Здравствуй, {{ user.name }}</span>
            </MenuItem>
            <MenuItem name="categories" to="/admin/categories">
              <svg width="15px" height="19px" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.9119 5.999C10.5609 5.648 9.95794 5 8.78794 5C8.59894 5 7.50994 5 6.50194 5C4.02694 4.991 2.01094 2.975 2.01094 0.5H0.210938C0.210938 3.344 2.10994 5.756 4.71094 6.539V18.5H6.51094V13.1H8.31094V18.5H10.1109V7.745L13.6659 11.3L14.9349 10.031L10.9119 5.999Z" fill="#3182CE"/>
                <path d="M7.41133 4.1C8.40544 4.1 9.21133 3.29411 9.21133 2.3C9.21133 1.30589 8.40544 0.5 7.41133 0.5C6.41722 0.5 5.61133 1.30589 5.61133 2.3C5.61133 3.29411 6.41722 4.1 7.41133 4.1Z" fill="#3182CE"/>
              </svg>
              <span>Категории </span>
            </MenuItem>
            <MenuItem name="dactyl" to="/admin/dactyl">
              <svg width="18px" height="15px" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.46094 12.8591H15.2109V14.3591H2.46094C1.63594 14.3591 0.960938 13.6841 0.960938 12.8591V3.10907H2.46094V12.8591ZM17.4609 3.10907V9.85907C17.4609 10.6841 16.7859 11.3591 15.9609 11.3591H5.46094C4.63594 11.3591 3.96094 10.6841 3.96094 9.85907L3.96844 1.60907C3.96844 0.78407 4.63594 0.10907 5.46094 0.10907H9.21094L10.7109 1.60907H15.9609C16.7859 1.60907 17.4609 2.28407 17.4609 3.10907ZM5.46094 9.85907H15.9609V3.10907H10.0884L8.58844 1.60907H5.46094V9.85907Z" fill="#3182CE"/>
              </svg>
              <span>Дактиль (азбука)</span>
            </MenuItem>
          </Menu>
          <Menu v-else active-name="1-2"  width="auto">
            <MenuItem name="dashboard" to="/dashboard">
              <Icon type="ios-home"></Icon>
              <span>Здравствуй, {{ user ? user.name : '' }}</span>
            </MenuItem>
            <template >

            </template>

            <MenuItem name="rules">
              <svg width="15px" height="19px" viewBox="0 0 15 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.9119 5.999C10.5609 5.648 9.95794 5 8.78794 5C8.59894 5 7.50994 5 6.50194 5C4.02694 4.991 2.01094 2.975 2.01094 0.5H0.210938C0.210938 3.344 2.10994 5.756 4.71094 6.539V18.5H6.51094V13.1H8.31094V18.5H10.1109V7.745L13.6659 11.3L14.9349 10.031L10.9119 5.999Z" fill="#3182CE"/>
                <path d="M7.41133 4.1C8.40544 4.1 9.21133 3.29411 9.21133 2.3C9.21133 1.30589 8.40544 0.5 7.41133 0.5C6.41722 0.5 5.61133 1.30589 5.61133 2.3C5.61133 3.29411 6.41722 4.1 7.41133 4.1Z" fill="#3182CE"/>
              </svg>
              <span>Правила общения </span>
            </MenuItem>
            <MenuItem name="categories">
              <svg width="18px" height="15px" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.46094 12.8591H15.2109V14.3591H2.46094C1.63594 14.3591 0.960938 13.6841 0.960938 12.8591V3.10907H2.46094V12.8591ZM17.4609 3.10907V9.85907C17.4609 10.6841 16.7859 11.3591 15.9609 11.3591H5.46094C4.63594 11.3591 3.96094 10.6841 3.96094 9.85907L3.96844 1.60907C3.96844 0.78407 4.63594 0.10907 5.46094 0.10907H9.21094L10.7109 1.60907H15.9609C16.7859 1.60907 17.4609 2.28407 17.4609 3.10907ZM5.46094 9.85907H15.9609V3.10907H10.0884L8.58844 1.60907H5.46094V9.85907Z" fill="#3182CE"/>
              </svg>
              <span>Каталог жестов</span>
            </MenuItem>
            <MenuItem name="dactyl">
              <svg width="17px" height="20px"  viewBox="0 0 17 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9.37358 10.8615L8.62775 9.36981C8.33102 8.77635 8.57161 8.05458 9.16507 7.75785L9.37358 7.6536L13.9689 12.0323C14.3698 12.4093 14.5944 12.9386 14.5944 13.4839V17.6782C14.5944 18.7849 13.6962 19.6831 12.5895 19.6831H3.76783C3.32674 19.6831 2.96586 19.3222 2.96586 18.8811C2.96586 18.4401 3.32674 18.0792 3.76783 18.0792H7.37668V17.2772H2.56487C2.12379 17.2772 1.76291 16.9163 1.76291 16.4752C1.76291 16.0342 2.12379 15.6733 2.56487 15.6733H7.37668V14.8713H1.76291C1.32182 14.8713 0.960938 14.5104 0.960938 14.0693C0.960938 13.6283 1.32182 13.2674 1.76291 13.2674H7.37668V12.4654H2.96586C2.52478 12.4654 2.16389 12.1045 2.16389 11.6634C2.16389 11.2224 2.52478 10.8615 2.96586 10.8615H9.37358ZM10.5846 11.0219V12.4654H8.98062V18.0792H12.1885C12.6296 18.0792 12.9905 17.7183 12.9905 17.2772V13.6443C12.9905 13.4278 12.9022 13.2112 12.7418 13.0589L10.5846 11.0219ZM8.80418 6.1459C8.13053 6.46668 7.86588 6.64312 7.49698 7.10024L5.33166 4.81463C5.02692 4.49384 5.04295 3.9886 5.36374 3.68386C5.68453 3.37911 6.18977 3.39515 6.49452 3.71593L8.80418 6.1459ZM7.08797 7.82201C6.90352 8.26309 6.8554 8.81645 6.92758 9.25753H6.23789L4.41742 7.34083C4.11267 7.02004 4.12069 6.5148 4.4495 6.21005C4.77029 5.90531 5.27553 5.92135 5.58027 6.24213L7.08797 7.82201ZM15.661 11.5913L16.3667 10.9256C16.7677 10.5487 17.0003 10.0194 17.0003 9.46604V3.12248L16.7838 3.04228C16.1582 2.81773 15.4685 3.13852 15.244 3.76405L14.6746 5.33591L10.2638 0.684495C9.95902 0.363707 9.45378 0.347668 9.13299 0.652416C8.8122 0.957164 8.79616 1.4624 9.10091 1.78319L12.1404 4.98304L11.5549 5.5364L7.68945 1.4624C7.3847 1.14162 6.87946 1.12558 6.55867 1.43032C6.23789 1.73507 6.22185 2.24031 6.5266 2.5611L9.55803 5.75293L11.6913 7.6536L13.2391 6.15392L14.3458 7.31677L15.3964 6.32233V9.28961C15.3964 9.51416 15.3081 9.72267 15.1478 9.87505L14.5864 10.4043L15.0756 10.8695C15.3081 11.086 15.5006 11.3266 15.661 11.5913Z" fill="#3182CE"/>
              </svg>
              <span>Дактиль (азбука)</span>
            </MenuItem>
            <MenuItem name="trainer">
              <Icon type="ios-book" />
              <span>Тренажер</span>
            </MenuItem>
            <MenuItem name="tests">
              <Icon type="md-list-box" />
              <span>Тесты</span>
            </MenuItem>
            <MenuItem name="settings">
              <Icon type="ios-hammer"></Icon>
              <span>Настройки</span>
            </MenuItem>
          </Menu>
          <div v-if="user && user.isAdmin" class="need-help">
            <img src="@/assets/imgs/icon-documentation.svg" alt="icon-documentation">
            <span>Нужна помощь?</span>
            <Button>ДОКУМЕНТАЦИЯ</Button>
            <Button type="primary">СМЕНИТЬ ТАРИФ</Button>
          </div>
          <div slot="trigger"></div>
        </Sider>
        <Layout>
          <router-view></router-view>
        </Layout>
      </Layout>
    </div>

  </div>
</template>

<script setup>
import './assets/styles/app.css'
import { mapGetters } from 'vuex'
import { ref } from 'vue'

created(() => {
    this.$store.commit('loadUserInfo')
})
computed(() => {
mapGetters([
      'isLogin', 'user'
  ])
})
</script>